<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MiniPeace Commissions</title>
  <link rel="icon" href="favicon.png?v=2" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Oswald&display=swap" rel="stylesheet">

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
  overflow-y: scroll;
      font-family: 'Segoe UI', sans-serif;
      background: repeating-linear-gradient(90deg, #dbeafe 0 20px, #bfdbfe 20px 40px),
                  repeating-linear-gradient(0deg, #dbeafe 0 20px, #bfdbfe 20px 40px);
      background-blend-mode: overlay;
      min-height: 100vh;
      display: flex;
      align-items: flex-start;
      justify-content: center;
      text-align: center;
      padding: 40px 20px 20px;
      cursor: url('assets/tay.png') 16 16, default;
    }

    .element-grab { cursor: url('assets/cam.png'), grab; }
    .element-grabbing { cursor: url('assets/nam.png'), grabbing; }

    .content {
      position: relative;
      z-index: 2;
      background-color: rgba(255, 250, 240, 0.7);
      padding: 0px;
      margin: 0;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
      max-width: 90vw;
      min-width: 320px;
      overflow: hidden;
    }

#flagImage[src="Comm/dichvu.png"] {
  width: 70vw;   /* chiếm 70% chiều ngang màn hình */
  height: auto;  /* giữ tỉ lệ gốc */
  display: block;
  margin: 10vh auto 0; /* cách trên 20px, căn giữa ngang */
}


body.dark-mode #loading-screen {
  background: #0b0f1a; /* nền dark mode */
}

.main-image {
  margin: 20px auto 0;   /* auto left-right để căn giữa */
  width: 65%;            /* 65% chiều ngang container */
  height: auto;
  display: block;        /* để margin auto hoạt động */
}
    .back-btn {
      position: fixed;
      top: 20px;
      right: 20px;
      width: 100px;
      height: 100px;
      background: url('Comm/back.png') no-repeat center center;
      background-size: contain;
      border: none;
      cursor: url('assets/chi.png') 16 16, pointer;
      z-index: 100;
    }
.back-btn:hover {
  animation: tilt-wiggle 0.6s ease-in-out infinite alternate;
}

@keyframes tilt-wiggle {
  0%   { transform: rotate(0deg); }
  50%  { transform: rotate(-8deg); } /* nghiêng trái */
  100% { transform: rotate(8deg); }  /* nghiêng phải */
}

.menu {
  margin: 40px auto 0;   /* căn giữa cả khối menu */
  display: flex;
  justify-content: center; /* căn giữa các cờ */
  gap: 20px;               /* khoảng cách giữa các cờ */
  flex-wrap: wrap;         /* nếu màn hình hẹp thì xuống dòng */
  width: auto;             /* không ép 90vw nữa */
}

canvas.flag {
  width: 15%;      /* mỗi lá cờ chiếm 15% container cha */
  min-width: 80px; /* đảm bảo không quá nhỏ khi màn nhỏ */
  height: auto;
    cursor: url('assets/chi.png') 16 16, pointer;
}

/* link điều khoản (ẩn mặc định) */
#termsLink {
  display: none;
  margin: 20px auto 80px;
  color: #ff3314;
  font-weight: 700;
    cursor: url('assets/chi.png') 16 16, pointer;
  text-decoration: underline;
}

/* popup overlay */
#termsPopup {
  position: fixed;
  inset: 0;
  display: none;
  align-items: center;
  justify-content: center;
  background: rgba(0,0,0,0.6);
  z-index: 9999;
    cursor: url('assets/chi.png') 16 16, pointer;
}

/* popup content */
#termsPopup .popup-content {
  background: #fff;
  color: #111;
  width: 100%;
  max-width: 900px;
  max-height: calc(100vh - 80px);
  overflow-y: auto;
  padding: 40px 60px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.35);
  text-align: left;
  line-height: 1.7;
  font-size: 18px;
  position: relative; /* để nút đóng không bị trôi */
  z-index: 10000;     /* chắc chắn nằm trên overlay nền */
}
/* Ẩn back-btn khi popup mở */
body.popup-open .back-btn {
  display: none !important;
}

/* table style like docx */
.terms-table {
  width: 100%;
  border-collapse: collapse;
  margin: 12px 0 18px;
}
.terms-table th,
.terms-table td {
  border: 1px solid #ccc;
  padding: 8px 10px;
  vertical-align: top;
}
.terms-table th {
  background: #f5f5f5;
  font-weight: 700;
}

/* close button */
.popup-close {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 6px;
}
.popup-close button {
  background: #ff3314;
  color: #fff;
  border: none;
  padding: 8px 12px;
  border-radius: 6px;
    cursor: url('assets/chi.png') 16 16, pointer;
  font-weight: 700;
}

/* make content readable on small screens */
@media (max-width:600px){
  #termsPopup .popup-content { padding: 14px; font-size: 14px; }
}

/* prevent background scroll when popup open */
body.popup-open { overflow: hidden; }
/* Tiêu đề chính */
#termsTitle {
  text-align: center;       /* căn giữa */
  margin: 2.5rem 0 3rem;    /* khoảng cách trên dưới rộng hơn */
  font-size: 2rem;          /* chữ to hơn */
  font-weight: bold;
}

/* Tiêu đề mục con (1,2,3...) */
#terms h3 {
  margin-top: 2rem;         /* cách xa mục trên */
  margin-bottom: 1rem;      /* tạo khoảng thở bên dưới */
  font-size: 1.25rem;
  font-weight: 600;
}

/* Danh sách nội dung */
#terms ul {
  margin: 0 0 1.5rem 1.5rem; /* thụt vào và cách dưới */
  line-height: 1.6;          /* giãn dòng dễ đọc */
}

/* Bảng */
#terms .terms-table {
  width: 100%;
  border-collapse: collapse;
  margin: 1rem 0 2rem;       /* cách trên dưới rộng hơn */
}

#terms .terms-table th,
#terms .terms-table td {
  border: 1px solid #ddd;
  padding: 0.75rem;
  text-align: left;
}

#terms .terms-table th {
  background-color: #f8f8f8;
  font-weight: 600;
}

/* Tô nền nhẹ cho dòng xen kẽ */
#terms .terms-table tbody tr:nth-child(even) {
  background-color: #fafafa;
}

#terms .terms-table th,
#terms .terms-table td {
  border: 1px solid #ccc;
  padding: 0.75rem;
}
#terms .terms-table tbody tr:hover {
  background-color: #d2e5f3; /* highlight khi hover */
}
#terms .terms-table th {
  background: #ef9ab2;
  color: #fff;
  font-weight: 700;
  text-align: center;
}



    /* --- floating icons --- */
       .floating-icons {
      position: fixed; top: 50%; left: 16px; transform: translateY(-50%); display: flex; flex-direction: column; gap: 20px;
      font-size: 32px; z-index: 999; opacity: 1; transition: opacity 0.4s ease;
    }
    .floating-icons a { color: #0c2f4d; transition: transform 0.2s ease, color 0.2s ease; }
    .floating-icons a:hover { transform: scale(1.3); color: #f27b84; cursor: url('assets/chi.png') 16 16, pointer; }

    .gmail-icon { position: relative; }
    .copy-note {
      position: absolute; top: 100%; left: 50%; transform: translateX(-50%);
      font-size: 12px; color: #f8c365; opacity: 0; pointer-events: none;
      transition: opacity 0.3s ease; white-space: nowrap; margin-top: 4px;
    }
    .gmail-icon.show-note .copy-note { opacity: 1; }

    @media (max-width: 768px) {
      body { padding: 5px 1px; }
@media (max-width:768px){
  .content {
    position: relative;         /* không cần absolute */
    top: auto;                  /* bỏ căn dọc */
    transform: none;            /* bỏ translateY */
    max-width:85vw;            /* giữ nguyên */
    left: 10px;               /* lệch nhẹ sang phải giống index */
    margin: 0 auto;             /* vẫn căn giữa theo flex của body */
margin-top: 120px;
  }
}
      .floating-icons { left: 10px; font-size: 1.3em; opacity: 1; pointer-events: auto; }
      .main-image { width: 100%; }
      .back-btn {width: 10vww; right: 10px; top: 10px;}
    }

    body.dark-mode {
      background:
        linear-gradient(to right, rgba(15,23,42,0.9), rgba(30,41,59,0.9)),
        repeating-linear-gradient(90deg, #dbeafe 0 20px, #bfdbfe 20px 40px),
        repeating-linear-gradient(0deg, #dbeafe 0 20px, #bfdbfe 20px 40px);
      background-blend-mode: multiply;
      color: #e2e8f0;
    }
    body.dark-mode .content { background-color: rgba(0, 5, 15, 0.7); box-shadow: 0 8px 24px rgba(0, 0, 0, 0.5); }
    body.dark-mode .copy-note { color: #f8c365; }
    body.dark-mode .floating-icons a { color: #f8c365; }
    body.dark-mode .floating-icons a:hover { color: #f27b84; }

    .gold-sparkles { position: fixed; inset: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; overflow: hidden; display: none; }
    body.dark-mode #gold-sparkles { display: block; }
    .sparkle {
      position: absolute; border-radius: 50%; background-color: #f8c365; opacity: 1;
      animation: floatRandom linear infinite; filter: blur(1px);
    }
    .sparkle.faint { opacity: 0.7; filter: blur(1.2px) brightness(1.1); transform: scale(0.8); }
    @keyframes floatRandom {
      0% { transform: translate(0, 0); opacity: 0.8; }
      50% { transform: translate(var(--x-move), -50vh); opacity: 1; }
      100% { transform: translate(calc(var(--x-move) / 2), -120vh); opacity: 0; }
    }
  </style>
</head>
<body>

  <div class="gold-sparkles" id="gold-sparkles"></div>

  <a href="index.html" class="back-btn" title="Quay lại trang chủ"></a>
  
<div class="content">
  <!-- ảnh chính -->
  <img src="Comm/comm.png" alt="Main Image" class="main-image" id="commImage">

  <!-- menu cờ -->
  <div class="menu">
    <canvas class="flag" data-src="Comm/flag1.png" data-img="Comm/dichvu.png"></canvas>
    <canvas class="flag" data-src="Comm/flag2.png" data-img="Comm/quytrinh.png"></canvas>
    <canvas class="flag" data-src="Comm/flag3.png" data-img="Comm/gia.png"></canvas>
    <canvas class="flag" data-src="Comm/flag4.png" data-img="Comm/minhhoa.png"></canvas>
    <canvas class="flag" data-src="Comm/flag5.png" data-img="Comm/truyen.png"></canvas>
    <canvas class="flag" data-src="Comm/flag6.png" data-img="Comm/thanhtoan.png"></canvas>
  </div>

  <!-- chỗ hiện ảnh thay đổi -->
  <div id="flagImageContainer" style="margin-top:20px;">
    <img id="flagImage" src="" alt="" </div>
<span id="termsLink">Xem chi tiết điều khoản dịch vụ</span>

</div>

  <!-- Floating icons -->
  <div class="floating-icons">
    <a href="https://www.facebook.com/minipeace2001" target="_blank"><i class="fab fa-facebook"></i></a>
    <a href="https://www.instagram.com/minipeace2001/" target="_blank"><i class="fab fa-instagram"></i></a>
    <a href="https://www.behance.net/maithuytien" target="_blank"><i class="fab fa-behance"></i></a>
    <a href="https://www.youtube.com/playlist?list=PLR5fl78Q7K1RJs1C-68pNzut2mKCL2Nod" target="_blank"><i class="fab fa-youtube"></i></a>
    <a href="javascript:void(0);" class="gmail-icon" onclick="copyEmail(this)"><i class="fab fa-google"></i><span class="copy-note">Đã copy email</span></a>
    <a href="javascript:void(0);" class="discord-icon" onclick="copyDiscord(this)"><i class="fab fa-discord"></i><span class="copy-note">Đã copy Discord</span></a>
  </div>

<div id="termsPopup" aria-hidden="true" role="dialog" aria-labelledby="termsTitle">
  <div class="popup-content" role="document">
    <div class="popup-close">
      <button id="closeTermsBtn" aria-label="Đóng điều khoản">Đóng</button>
    </div>

   <section id="terms">
  <h2 id="termsTitle">ĐIỀU KHOẢN DỊCH VỤ</h2>

  <!-- 1. Phi thương mại -->
  <h3>1. Vẽ Tranh Phi Thương Mại</h3>
  <ul>
    <li><strong>Bạn:</strong> Được phép đăng/tải/sử dụng tranh cho mục đích cá nhân, tặng, in ấn phi lợi nhuận. Hạn chế leak tranh trước khi hoàn thành. Nếu muốn leak, vui lòng báo họa sĩ để gắn tag chống trộm.</li>
    <li><strong>Mình:</strong> Có thể đăng trên mạng xã hội (gắn tag tên khách hàng) để làm mẫu vẽ commission. Không kinh doanh trên sản phẩm vẽ cho khách.</li>
  </ul>

  <!-- 2. Kinh doanh -->
  <h3>2. Vẽ Tranh Kinh Doanh</h3>
  <ul>
    <li><strong>Bạn:</strong> Được phép sử dụng tranh cho mục đích kiếm tiền (hãy thông báo mục đích sử dụng để mình tối ưu file). Hạn chế leak tranh trước khi hoàn thành. Nếu muốn leak, vui lòng báo họa sĩ để gắn tag chống trộm.</li>
    <li><strong>Mình:</strong> Có thể đăng trên mạng xã hội (gắn tag/link sản phẩm kinh doanh của bạn). Không kinh doanh trên sản phẩm đã vẽ cho khách.</li>
    <li><strong>Lưu ý giá:</strong> Liên hệ trực tiếp để biết giá dành cho mục đích thương mại (bảng giá bên dưới chỉ áp dụng phi thương mại).</li>
  </ul>

  <!-- 3. Deadline -->
  <h3>3. Deadline</h3>
  <table class="terms-table" aria-describedby="deadlineDesc">
    <thead>
      <tr>
        <th>Hạng mục</th>
        <th>Ghi chú</th>
        <th>Thời gian</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><strong>Sticker</strong></td>
        <td>Không nền / nền đơn giản</td>
        <td>2 ngày – 1 tháng</td>
      </tr>
      <tr>
        <td><strong>Minh hoạ</strong></td>
        <td>Nền có chiều sâu</td>
        <td>1 tuần – 2 tháng</td>
      </tr>
      <tr>
        <td><strong>Truyện tranh</strong></td>
        <td>1 – 17 trang</td>
        <td>1 tuần – 2 tháng</td>
      </tr>
      <tr>
        <td><strong>Animation</strong></td>
        <td>Frame by frame</td>
        <td>1 tuần – 2 tháng</td>
      </tr>
    </tbody>
  </table>
  <p id="deadlineDesc">
    Nếu deadline quá gấp, sẽ có phụ phí. Nếu không yêu cầu deadline cụ thể thì càng tốt, vì mình có thêm thời gian để trau chuốt tác phẩm.<br>
    <strong>Thời gian tính deadline:</strong> từ ngày nhận được chuyển khoản.
  </p>

  <!-- 4. Kích thước -->
  <h3>4. Kích thước Thường Dùng</h3>
  <ul>
    <li>Vuông: 3000×3000 (300 dpi)</li>
    <li>A4: 2480×3508 (300 dpi)</li>
    <li>Video 2K: 3840×2160 (300 dpi)</li>
  </ul>

  <!-- 5. Nhận tranh -->
  <h3>5. Nhận Tranh</h3>
  <p>Tranh hoàn thiện sẽ được gửi qua email, bao gồm:</p>
  <table class="terms-table">
    <thead>
      <tr>
        <th>Loại</th>
        <th>File</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td rowspan="2"><strong>Tranh ảnh</strong></td>
        <td>1 ảnh .png</td>
      </tr>
      <tr>
        <td>1 file .psd (merged)</td>
      </tr>
      <tr>
        <td rowspan="3"><strong>Video</strong></td>
        <td>1 ảnh .png (thumbnail vuông)</td>
      </tr>
      <tr>
        <td>1 file .psd (merged, kích thước gốc)</td>
      </tr>
      <tr>
        <td>1 video .mp4</td>
      </tr>
    </tbody>
  </table>

  <!-- 6. Ghi chú -->
  <h3>6. Ghi Chú</h3>
  <p>
    Với khách hàng kinh doanh (âm nhạc, truyện tranh, bìa sách, quảng bá…), sản phẩm sẽ được coi là <strong>hợp tác</strong>.  
    Mình rất cảm kích nếu bạn cho phép thêm tên tác giả vào thông tin sản phẩm.
  </p>
</section>


  </div>
</div>


  <script>
    /* waving flags (Code A) */
    class WavingFlag {
      constructor(canvas, src) {
        this.canvas = canvas;
        this.ctx = canvas.getContext('2d');
        this.img = new Image();
        this.img.src = src;
        this.img.onload = () => {
          this.canvas.width = this.img.width;
          this.canvas.height = this.img.height;
          this.start();
        };
        this.time = 0;
      }
      start() {
        this.width = this.canvas.width;
        this.height = this.canvas.height;
        requestAnimationFrame(() => this.animate());
      }
      animate() {
        const ctx = this.ctx;
        const { width, height } = this;
        ctx.clearRect(0, 0, width, height);
        let topHeight = height * 0.2;
        let waveHeight = height - topHeight;
        ctx.drawImage(this.img, 0, 0, this.img.width, this.img.height * (topHeight / height), 0, 0, width, topHeight);
        let syStart = this.img.height * (topHeight / height);
        let sh = this.img.height - syStart;
        let rowHeight = 15;
        let rowCount = Math.floor(waveHeight / rowHeight);
        for (let y = 0; y < rowCount; y++) {
          let progress = y / rowCount;
          let offset = Math.sin(this.time * 1.5 + y * 0.25) * 2 * progress;
          ctx.drawImage(this.img, 0, syStart + (sh * y / rowCount), this.img.width, sh / rowCount,
            offset, topHeight + y * rowHeight, width, rowHeight);
        }
        this.time += 0.025;
        requestAnimationFrame(() => this.animate());
      }
    }
    document.querySelectorAll('canvas.flag').forEach(c => new WavingFlag(c, c.getAttribute('data-src')));
    window.addEventListener('load', () => {
      if (localStorage.getItem('theme') === 'dark') document.body.classList.add('dark-mode');
    });

    /* sparkles */
    const sparklesContainer = document.getElementById("gold-sparkles");
    function createSparkles() {
      if (!sparklesContainer) return;
      sparklesContainer.innerHTML = '';
      const sparkleCount = 30;
      for (let i = 0; i < sparkleCount; i++) {
        const s = document.createElement("div");
        s.classList.add("sparkle");
        if (Math.random() < 0.5) s.classList.add("faint");
        s.style.left = `${Math.random() * 100}%`;
        s.style.bottom = `-${20 + Math.random() * 40}px`;
        const xMove = `${Math.random() * 60 - 30}vw`;
        s.style.setProperty('--x-move', xMove);
        s.style.animationDuration = `${5 + Math.random() * 10}s`;
        s.style.animationDelay = `${Math.random() * 5}s`;
        s.style.transform = `scale(${0.5 + Math.random() * 1.5}) rotate(${Math.random() * 360}deg)`;
        const size = 6 + Math.random() * 8;
        s.style.width = `${size}px`;
        s.style.height = `${size}px`;
        sparklesContainer.appendChild(s);
      }
    }

    /* copy helpers */
    window.copyEmail = el => {
      navigator.clipboard.writeText("ttien39169@gmail.com").then(() => {
        el.classList.add("show-note");
        setTimeout(() => el.classList.remove("show-note"), 2000);
      });
    };
    window.copyDiscord = el => {
      navigator.clipboard.writeText("tienmai334").then(() => {
        el.classList.add("show-note");
        setTimeout(() => el.classList.remove("show-note"), 2000);
      });
    };


// references
const flagImage = document.getElementById('flagImage');
const termsLink = document.getElementById('termsLink');
const termsPopup = document.getElementById('termsPopup');
const closeTermsBtn = document.getElementById('closeTermsBtn');

// helper: scroll tới đầu flagImage
function scrollToFlagImage() {
  const rect = flagImage.getBoundingClientRect();
  const target = window.scrollY + rect.top;
  window.scrollTo({ top: target, behavior: 'smooth' });
}

// open/close popup (kèm bù scrollbar để tránh nhảy layout)
function openTermsPopup() {
  const scrollBarWidth = window.innerWidth - document.documentElement.clientWidth;
  if (scrollBarWidth > 0) document.body.style.paddingRight = scrollBarWidth + 'px';
  document.body.classList.add('popup-open');
  termsPopup.style.display = 'flex';
  termsPopup.setAttribute('aria-hidden', 'false');
}
function closeTermsPopup() {
  termsPopup.style.display = 'none';
  termsPopup.setAttribute('aria-hidden', 'true');
  document.body.classList.remove('popup-open');
  document.body.style.paddingRight = '';
}

// click outside to close
termsPopup.addEventListener('click', (e) => {
  if (e.target === termsPopup) closeTermsPopup();
});
closeTermsBtn.addEventListener('click', closeTermsPopup);
window.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeTermsPopup(); });

// Flag click handling
document.querySelectorAll('.flag').forEach(flag => {
  flag.addEventListener('click', () => {
    const imgSrc = flag.getAttribute('data-img');

    // show image container and set src
    flagImage.style.display = 'block';
    flagImage.src = imgSrc;

    // only show terms link for dichvu.png
    if (imgSrc && imgSrc.includes('dichvu.png')) {
      termsLink.style.display = 'block';
    } else {
      termsLink.style.display = 'none';
    }

    // scroll to top of image even if cached
    if (flagImage.complete && flagImage.naturalHeight !== 0) {
      scrollToFlagImage();
    } else {
      // if not loaded yet, scroll when loaded
      flagImage.onload = () => {
        scrollToFlagImage();
      };
      // fallback in case onload doesn't fire (rare)
      setTimeout(() => {
        scrollToFlagImage();
      }, 300);
    }
  });
});

// open popup when clicking the terms link

termsLink.addEventListener('click', openTermsPopup);
function openPopup() {
  document.getElementById("termsPopup").style.display = "flex";
  document.body.classList.add("popup-open");
}

function closePopup() {
  document.getElementById("termsPopup").style.display = "none";
  document.body.classList.remove("popup-open");
}


  </script>
</body>
</html>
